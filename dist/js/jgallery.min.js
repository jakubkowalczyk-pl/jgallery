/*!
 * jGallery unreleased
 * http://jgallery.jakubkowalczyk.pl/
 *
 * Released under the MIT license
 *
 * Date: 2014-11-13
 */

/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(){var e,t,n;(function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){var n=p.call(arguments,0);return typeof n[0]!="string"&&n.length===1&&n.push(null),s.apply(r,n.concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),i(r,e,t,n),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("../../build/almond",function(){}),n("functions/refreshHTMLClasses.js",[],function(){var e=jQuery,t=e("html");return function(){t.find(".jgallery").length===0?t.removeClass("has-jgallery"):t.addClass("has-jgallery"),t.find(".jgallery.hidden").length===0?t.removeClass("has-hidden-jgallery"):t.addClass("has-hidden-jgallery"),t.find(".jgallery:not(.hidden)").length===0?t.removeClass("has-visible-jgallery"):t.addClass("has-visible-jgallery")}}),n("var/defaults.js",[],function(){return{autostart:!0,autostartAtImage:1,autostartAtAlbum:1,backgroundColor:"#fff",browserHistory:!0,canChangeMode:!0,canClose:!1,canMinimalizeThumbnails:!0,canZoom:!0,disabledOnIE8AndOlder:!0,draggableZoom:!0,height:"600px",hideThumbnailsOnInit:!1,mode:"standard",preloadAll:!1,slideshow:!0,slideshowAutostart:!1,slideshowCanRandom:!0,slideshowInterval:"8s",slideshowRandom:!1,textColor:"#000",thumbnails:!0,thumbHeight:75,thumbHeightOnFullScreen:100,thumbnailsFullScreen:!0,thumbnailsPosition:"bottom",thumbType:"image",thumbWidth:75,thumbWidthOnFullScreen:100,title:!0,titleExpanded:!1,tooltipClose:"Close",tooltipFullScreen:"Full screen",tooltipRandom:"Random",tooltips:!0,tooltipSeeAllPhotos:"See all photos",tooltipSeeOtherAlbums:"See other albums",tooltipSlideshow:"Slideshow",tooltipToggleThumbnails:"Toggle thumbnails",tooltipZoom:"Zoom",transition:"moveToRight_moveFromLeft",transitionBackward:"auto",transitionCols:1,transitionDuration:"0.7s",transitionRows:1,transitionTimingFunction:"cubic-bezier(0,1,1,1)",transitionWaveDirection:"forward",width:"100%",zoomSize:"fit",afterLoadPhoto:function(){},beforeLoadPhoto:function(){},closeGallery:function(){},initGallery:function(){},showGallery:function(){},showPhoto:function(){}}}),n("var/transitions.js",[],function(){return{moveToLeft_moveFromRight:["pt-page-moveToLeft","pt-page-moveFromRight"],moveToRight_moveFromLeft:["pt-page-moveToRight","pt-page-moveFromLeft"],moveToTop_moveFromBottom:["pt-page-moveToTop","pt-page-moveFromBottom"],moveToBottom_moveFromTop:["pt-page-moveToBottom","pt-page-moveFromTop"],fade_moveFromRight:["pt-page-fade","pt-page-moveFromRight pt-page-ontop"],fade_moveFromLeft:["pt-page-fade","pt-page-moveFromLeft pt-page-ontop"],fade_moveFromBottom:["pt-page-fade","pt-page-moveFromBottom pt-page-ontop"],fade_moveFromTop:["pt-page-fade","pt-page-moveFromTop pt-page-ontop"],moveToLeftFade_moveFromRightFade:["pt-page-moveToLeftFade","pt-page-moveFromRightFade"],moveToRightFade_moveFromLeftFade:["pt-page-moveToRightFade","pt-page-moveFromLeftFade"],moveToTopFade_moveFromBottomFade:["pt-page-moveToTopFade","pt-page-moveFromBottomFade"],moveToBottomFade_moveFromTopFade:["pt-page-moveToBottomFade","pt-page-moveFromTopFade"],moveToLeftEasing_moveFromRight:["pt-page-moveToLeftEasing pt-page-ontop","pt-page-moveFromRight"],moveToRightEasing_moveFromLeft:["pt-page-moveToRightEasing pt-page-ontop","pt-page-moveFromLeft"],moveToTopEasing_moveFromBottom:["pt-page-moveToTopEasing pt-page-ontop","pt-page-moveFromBottom"],moveToBottomEasing_moveFromTop:["pt-page-moveToBottomEasing pt-page-ontop","pt-page-moveFromTop"],scaleDown_moveFromRight:["pt-page-scaleDown","pt-page-moveFromRight pt-page-ontop"],scaleDown_moveFromLeft:["pt-page-scaleDown","pt-page-moveFromLeft pt-page-ontop"],scaleDown_moveFromBottom:["pt-page-scaleDown","pt-page-moveFromBottom pt-page-ontop"],scaleDown_moveFromTop:["pt-page-scaleDown","pt-page-moveFromTop pt-page-ontop"],scaleDown_scaleUpDown:["pt-page-scaleDown","pt-page-scaleUpDown pt-page-delay300"],scaleDownUp_scaleUp:["pt-page-scaleDownUp","pt-page-scaleUp pt-page-delay300"],moveToLeft_scaleUp:["pt-page-moveToLeft pt-page-ontop","pt-page-scaleUp"],moveToRight_scaleUp:["pt-page-moveToRight pt-page-ontop","pt-page-scaleUp"],moveToTop_scaleUp:["pt-page-moveToTop pt-page-ontop","pt-page-scaleUp"],moveToBottom_scaleUp:["pt-page-moveToBottom pt-page-ontop","pt-page-scaleUp"],scaleDownCenter_scaleUpCenter:["pt-page-scaleDownCenter","pt-page-scaleUpCenter pt-page-delay400"],rotateRightSideFirst_moveFromRight:["pt-page-rotateRightSideFirst","pt-page-moveFromRight pt-page-delay200 pt-page-ontop"],rotateLeftSideFirst_moveFromLeft:["pt-page-rotateLeftSideFirst","pt-page-moveFromLeft pt-page-delay200 pt-page-ontop"],rotateTopSideFirst_moveFromTop:["pt-page-rotateTopSideFirst","pt-page-moveFromTop pt-page-delay200 pt-page-ontop"],rotateBottomSideFirst_moveFromBottom:["pt-page-rotateBottomSideFirst","pt-page-moveFromBottom pt-page-delay200 pt-page-ontop"],flipOutRight_flipInLeft:["pt-page-flipOutRight","pt-page-flipInLeft pt-page-delay500"],flipOutLeft_flipInRight:["pt-page-flipOutLeft","pt-page-flipInRight pt-page-delay500"],flipOutTop_flipInBottom:["pt-page-flipOutTop","pt-page-flipInBottom pt-page-delay500"],flipOutBottom_flipInTop:["pt-page-flipOutBottom","pt-page-flipInTop pt-page-delay500"],rotateFall_scaleUp:["pt-page-rotateFall pt-page-ontop","pt-page-scaleUp"],rotateOutNewspaper_rotateInNewspaper:["pt-page-rotateOutNewspaper","pt-page-rotateInNewspaper pt-page-delay500"],rotatePushLeft_moveFromRight:["pt-page-rotatePushLeft","pt-page-moveFromRight"],rotatePushRight_moveFromLeft:["pt-page-rotatePushRight","pt-page-moveFromLeft"],rotatePushTop_moveFromBottom:["pt-page-rotatePushTop","pt-page-moveFromBottom"],rotatePushBottom_moveFromTop:["pt-page-rotatePushBottom","pt-page-moveFromTop"],rotatePushLeft_rotatePullRight:["pt-page-rotatePushLeft","pt-page-rotatePullRight pt-page-delay180"],rotatePushRight_rotatePullLeft:["pt-page-rotatePushRight","pt-page-rotatePullLeft pt-page-delay180"],rotatePushTop_rotatePullBottom:["pt-page-rotatePushTop","pt-page-rotatePullBottom pt-page-delay180"],rotatePushBottom_page:["pt-page-rotatePushBottom","pt-page-rotatePullTop pt-page-delay180"],rotateFoldLeft_moveFromRightFade:["pt-page-rotateFoldLeft","pt-page-moveFromRightFade"],rotateFoldRight_moveFromLeftFade:["pt-page-rotateFoldRight","pt-page-moveFromLeftFade"],rotateFoldTop_moveFromBottomFade:["pt-page-rotateFoldTop","pt-page-moveFromBottomFade"],rotateFoldBottom_moveFromTopFade:["pt-page-rotateFoldBottom","pt-page-moveFromTopFade"],moveToRightFade_rotateUnfoldLeft:["pt-page-moveToRightFade","pt-page-rotateUnfoldLeft"],moveToLeftFade_rotateUnfoldRight:["pt-page-moveToLeftFade","pt-page-rotateUnfoldRight"],moveToBottomFade_rotateUnfoldTop:["pt-page-moveToBottomFade","pt-page-rotateUnfoldTop"],moveToTopFade_rotateUnfoldBottom:["pt-page-moveToTopFade","pt-page-rotateUnfoldBottom"],rotateRoomLeftOut_rotateRoomLeftIn:["pt-page-rotateRoomLeftOut pt-page-ontop","pt-page-rotateRoomLeftIn"],rotateRoomRightOut_rotateRoomRightIn:["pt-page-rotateRoomRightOut pt-page-ontop","pt-page-rotateRoomRightIn"],rotateRoomTopOut_rotateRoomTopIn:["pt-page-rotateRoomTopOut pt-page-ontop","pt-page-rotateRoomTopIn"],rotateRoomBottomOut_rotateRoomBottomIn:["pt-page-rotateRoomBottomOut pt-page-ontop","pt-page-rotateRoomBottomIn"],rotateCubeLeftOut_rotateCubeLeftIn:["pt-page-rotateCubeLeftOut pt-page-ontop","pt-page-rotateCubeLeftIn"],rotateCubeRightOut_rotateCubeRightIn:["pt-page-rotateCubeRightOut pt-page-ontop","pt-page-rotateCubeRightIn"],rotateCubeTopOut_rotateCubeTopIn:["pt-page-rotateCubeTopOut pt-page-ontop","pt-page-rotateCubeTopIn"],rotateCubeBottomOut_rotateCubeBottomIn:["pt-page-rotateCubeBottomOut pt-page-ontop","pt-page-rotateCubeBottomIn"],rotateCarouselLeftOut_rotateCarouselLeftIn:["pt-page-rotateCarouselLeftOut pt-page-ontop","pt-page-rotateCarouselLeftIn"],rotateCarouselRightOut_rotateCarouselRightIn:["pt-page-rotateCarouselRightOut pt-page-ontop","pt-page-rotateCarouselRightIn"],rotateCarouselTopOut_rotateCarouselTopIn:["pt-page-rotateCarouselTopOut pt-page-ontop","pt-page-rotateCarouselTopIn"],rotateCarouselBottomOut_rotateCarouselBottomIn:["pt-page-rotateCarouselBottomOut pt-page-ontop","pt-page-rotateCarouselBottomIn"],rotateSidesOut_rotateSidesInDelay:["pt-page-rotateSidesOut","pt-page-rotateSidesIn pt-page-delay200"],rotateSlideOut_rotateSlideIn:["pt-page-rotateSlideOut","pt-page-rotateSlideIn"]}}),n("jqueryExtensions/outerHtml.js",[],function(){return function(){return this.length?this[0].outerHTML||function(e){var t=document.createElement("div");t.appendChild(e.cloneNode(!0));var n=t.innerHTML;return t=null,n}(this[0]):this}}),n("functions/historyPushState.js",[],function(){var e=jQuery,t=e("title");return function(n){n=e.extend({},{stateObj:{},title:t.html(),path:""},n),window.history.pushState(n.stateObj,n.title,document.location.href.split("#")[0]+"#"+n.path)}}),n("functions/isIE.js",[],function(){return function(){var e=!1;if(navigator.appName==="Microsoft Internet Explorer"){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");n.exec(t)!==null&&(e=!0)}return e}}),n("functions/isIE8AndOlder.js",[],function(){return function(){var e=!1;if(navigator.appName==="Microsoft Internet Explorer"){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");n.exec(t)!==null&&(e=parseFloat(RegExp.$1),e=e<9)}return e}}),n("var/defaultsFullScreenMode.js",[],function(){return{}}),n("var/defaultsSliderMode.js",[],function(){return{width:"940px",height:"360px",canZoom:!1,draggableZoom:!1,browserHistory:!1,thumbnailsFullScreen:!1,thumbType:"square",thumbWidth:20,thumbHeight:20,canMinimalizeThumbnails:!1,transition:"rotateCubeRightOut_rotateCubeRightIn",transitionBackward:"rotateCubeRightOut_rotateCubeRightIn",transitionCols:6,transitionRows:1,slideshow:!0,slideshowAutostart:!0,zoomSize:"fill"}}),n("var/requiredFullScreenMode.js",[],function(){return{}}),n("var/requiredSliderMode.js",[],function(){return{autostart:!0,canClose:!1,zoomSize:"fill",canChangeMode:!1}}),n("prototype/iconChangeAlbum.js",[],function(){var e=jQuery,t=e("html"),n=function(e,t){this.$element=e,this.jGallery=t,this.$title=this.$element.find(".title")};return n.prototype={bindEvents:function(n){var r=this;this.getElement().on({click:function(e){r.menuToggle(),e.stopPropagation()}}),this.getItemsOfMenu().on({click:function(){var t=e(this);if(t.is(".active"))return;n.thumbnails.setActiveAlbum(n.thumbnails.$albums.filter('[data-jgallery-album-title="'+t.attr("data-jgallery-album-title")+'"]'))}}),t.on("click",function(){r.menuHide()})},setTitle:function(e){this.$title.html(e)},getTitle:function(){return this.$title.html()},getListOfAlbums:function(){return this.getElement().find(".menu")},getElement:function(){return this.$element},getItemsOfMenu:function(){return this.getListOfAlbums().find(".item")},appendToMenu:function(e){this.getListOfAlbums().append(e)},menuToggle:function(){this.getElement().toggleClass("active")},menuHide:function(){this.getElement().removeClass("active")},clearMenu:function(){this.getListOfAlbums().html("")},refreshMenuHeight:function(){this.getListOfAlbums().css("max-height",this.jGallery.zoom.$container.outerHeight()-8)}},n}),n("prototype/progress.js",[],function(){var e=function(e,t){this.jGallery=t,this.$element=e};return e.prototype={clear:function(){return this.$element.stop(!1,!0).css({width:0}),this},start:function(e,t){var n=parseInt(this.jGallery.options.slideshowInterval)*1e3,r=this.$element;return r.animate({width:e},n-n*(r.width()/r.parent().width()),"linear",t),this},pause:function(){return this.$element.stop(),this}},e}),n("jqueryExtensions/overlay.js",[],function(){var e=jQuery,t=e("html");return function(n){var r={show:!1,hide:!1,showLoader:!1,hideLoader:!1,fadeIn:!0,fadeOut:!0,fadeInLoader:!0,fadeOutLoader:!0,afterInit:function(){}};n=e.extend({},r,n),this.each(function(){var r=e(this),i,s,o=r.is(".overlayContainer:has(.overlay)"),u=function(){var t=Math.max(r.offset().top,e("body, html").scrollTop()),n=Math.min(r.offset().top+r.outerHeight(),e("body, html").scrollTop()+e(window).height()),i=t+(n-t)/2-r.offset().top;s.css({top:i+"px"})},a=function(){r.children(".overlay").css({width:r.outerWidth(),height:r.is("body")?t.outerHeight():r.outerHeight()})},f=function(){n.fadeIn?i.fadeIn(500):i.show()},l=function(){n.fadeOut?i.fadeOut(500):i.hide()},c=function(){n.fadeInLoader?s.not(":visible").fadeIn(500):s.not(":visible").show()},h=function(){n.fadeOutLoader?s.filter(":visible").fadeOut(500):s.filter(":visible").hide()};e(window).scroll(function(){u()}),e(window).resize(function(){u(),a()}),r.is("table")&&r.parent().is(".overlayContainer")&&(r=r.parent()),o||(r.is("table")&&(r.wrap("<div></div>"),r=r.parent()),r.addClass("overlayContainer"),r.append('<div class="overlay" style="display: none;"><div class="imageLoaderPositionAbsolute" style="display: none;"></div></div>'),n.afterInit()),i=r.children(".overlay"),s=r.find(".imageLoaderPositionAbsolute"),i.stop(!1,!0),s.stop(!1,!0),n.show?f():n.hide&&l(),n.showLoader?c():n.hideLoader&&h(),u(),a()})}}),n("jqueryExtensions/jLoader.js",["../jqueryExtensions/overlay.js"],function(e){var t=jQuery;return t.fn.overlay=e,function(e){e=t.extend({interval:1e3,skip:":not(*)",start:function(){t("body").overlay({fadeIn:!1,fadeOut:!1,show:!0,showLoader:!0}),t("body").show()},success:function(){t("body").overlay({hide:!0})},progress:function(){}},e),this.each(function(){function u(){var n=!0,a=0,f=0,l;i.each(function(){a++,t(this)[0].complete?f++:n=!1,a===o&&(l=parseInt(f*100/o),e.progress({percent:l}),n?(clearTimeout(s),r.remove(),e.success()):s=setTimeout(u,e.interval))})}var n=t(this),r=t(),i=t(),s,o=0;n.append('<div class="jLoaderTmp" style="position: absolute; width: 0; height: 0; line-height: 0; font-size: 0; visibility: hidden; overflow: hidden; z-index: -1;"></div>'),r=n.children(".jLoaderTmp:last-child"),t(n).add(n.find("*")).not(e.skip).each(function(){var e;t(this).css("background-image")!=="none"&&(e=t(this).css("background-image"),/url/.exec(e)&&(e=e.replace('"',"").replace("'","").replace(" ","").replace("url(","").replace(")",""),r.append('<img src="'+e+'">')))}),i=n.find("img:not( "+e.skip+")"),n.is("img")&&(n.is(e.skip)||(i=i.add(n))),o=parseInt(i.length),e.start(),u()})}}),n("prototype/thumbnails.js",["../jqueryExtensions/jLoader.js"],function(e){var t=jQuery,n=t("head"),r=t(window);t.fn.jLoader=e;var i=function(e){this.$element=e.$element.find(".jgallery-thumbnails"),this.$a=this.getElement().find("a"),this.$img=this.getElement().find("img"),this.$container=this.getElement().find(".jgallery-container"),this.$albums=this.getElement().find(".album").length?this.getElement().find(".album"):this.getElement().find(".jgallery-container-inner").addClass("active"),this.$btnNext=this.getElement().children(".next"),this.$btnPrev=this.getElement().children(".prev"),this.intJgalleryId=e.$element.attr("data-jgallery-id"),this.isJgalleryInitialized=e.$element.is("[data-jgallery-id]"),this.zoom=e.zoom,this.$iconToggleThumbsVisibility=this.zoom.$container.find(".minimalize-thumbnails"),this.jGallery=e};return i.prototype={getElement:function(){return this.$element},init:function(){this.getElement().removeClass("square number images jgallery-thumbnails-left jgallery-thumbnails-right jgallery-thumbnails-top jgallery-thumbnails-bottom jgallery-thumbnails-horizontal jgallery-thumbnails-vertical"),this.getElement().addClass("jgallery-thumbnails-"+this.jGallery.options.thumbnailsPosition),this.isVertical()&&this.getElement().addClass("jgallery-thumbnails-vertical"),this.isHorizontal()&&this.getElement().addClass("jgallery-thumbnails-horizontal"),this.jGallery.options.thumbType==="image"&&this._initImages(),this.jGallery.options.thumbType==="square"&&this._initSquare(),this.jGallery.options.thumbType==="number"&&this._initNumber()},show:function(){var e=this;if(!this.getElement().is(".hidden"))return;this.getElement().removeClass("hidden"),this.getElement().is(".loaded")?(this._showNextThumb(),this.$a.parent(".album:not(.active)").children(".hidden").removeClass("hidden")):this.getElement().jLoader({start:function(){},success:function(){e._showNextThumb(),e.$a.parent(".album:not(.active)").children(".hidden").removeClass("hidden"),e.getElement().addClass("loaded")}}),this.$iconToggleThumbsVisibility.removeClass("inactive")},showThumbsForActiveAlbum:function(){this.$a.addClass("hidden"),this._showNextThumb()},hide:function(e){e=t.extend({hideEachThumb:!0},e),this.getElement().addClass("hidden"),e.hideEachThumb&&this.$a.addClass("hidden"),this.$iconToggleThumbsVisibility.addClass("inactive")},toggle:function(){this.getElement().is(".hidden")?this.show():this.hide({hideEachThumb:!1})},setActiveThumb:function(e){var t=e.find("img"),n=this.$albums.filter(".active"),e=n.find('img[src="'+t.attr("src")+'"]').parent("a").eq(0);this.getElement().find("a").removeClass("active"),e.addClass("active"),n.find("a.active").length===0&&n.find("a:first-child").eq(0).addClass("active"),this.center(e)},isHorizontal:function(){return this.jGallery.options.thumbnailsPosition==="top"||this.jGallery.options.thumbnailsPosition==="bottom"},isVertical:function(){return this.jGallery.options.thumbnailsPosition==="left"||this.jGallery.options.thumbnailsPosition==="right"},isFullScreen:function(){return this.getElement().is(".full-screen")},refreshNavigation:function(){this.isVertical()||this.isFullScreen()?this._refreshVerticalNavigation():this.isHorizontal()&&this._refreshHorizontalNavigation()},center:function(e){this.isHorizontal()&&this._horizontalCenter(e),this.isVertical()&&this._verticalCenter(e)},reload:function(){this.$a=this.getElement().find("a"),this.$img=this.getElement().find("img"),this.$albums=this.getElement().find(".album").length?this.getElement().find(".album"):this.getElement().find(".jgallery-container-inner"),this.zoom.showPhoto(this.$albums.find("a").eq(0))},bindEvents:function(){var e=this;this.$btnNext.on("click",function(){e._scrollToNext()}),this.$btnPrev.on("click",function(){e._scrollToPrev()}),this.zoom.$container.find(".full-screen").on({click:function(){e.zoom.slideshowPause(),e.changeViewToFullScreen()}}),this.getElement().find(".jgallery-close").on({click:function(){e.changeViewToBar(),e.zoom.refreshSize()}})},changeViewToBar:function(){this.getElement().removeClass("full-screen"),this.isHorizontal()&&this.getElement().addClass("jgallery-thumbnails-horizontal").removeClass("jgallery-thumbnails-vertical"),this.refreshNavigation()},changeViewToFullScreen:function(){this.getElement().addClass("full-screen"),this.isHorizontal()&&this.getElement().addClass("jgallery-thumbnails-vertical").removeClass("jgallery-thumbnails-horizontal"),this._refreshVerticalNavigation()},setActiveAlbum:function(e){if(!this.jGallery.booIsAlbums||e.is(".active"))return;this.$albums.not(e.get(0)).removeClass("active"),e.addClass("active"),this.jGallery.iconChangeAlbum.getListOfAlbums().find(".item").removeClass("active").filter('[data-jgallery-album-title="'+e.attr("data-jgallery-album-title")+'"]').addClass("active"),this.jGallery.iconChangeAlbum.setTitle(e.attr("data-jgallery-album-title")),this.refreshNavigation(),!this.getElement().is(".full-screen")&&this.jGallery.$element.is(":visible")&&this.zoom.showPhoto(e.find("a").eq(0)),this.showThumbsForActiveAlbum()},_initSquare:function(){this.getElement().addClass("square")},_initNumber:function(){this.getElement().addClass("number"),this._initSquare()},_initImages:function(){var e=n.find('style.jgallery-thumbnails[data-jgallery-id="'+this.intJgalleryId+'"]'),t='                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails a {\n                        width: '+this.jGallery.options.thumbWidth+"px;\n                        height: "+this.jGallery.options.thumbHeight+"px;\n                        font-size: "+this.jGallery.options.thumbHeight+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails.full-screen a {\n                        width: '+this.jGallery.options.thumbWidthOnFullScreen+"px;\n                        height: "+this.jGallery.options.thumbHeightOnFullScreen+"px;\n                        font-size: "+this.jGallery.options.thumbHeightOnFullScreen+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails-horizontal {\n                        height: '+parseInt(this.jGallery.options.thumbHeight+2)+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails-vertical {\n                        width: '+parseInt(this.jGallery.options.thumbWidth+2)+"px;\n                    }\n            ";this.getElement().addClass("images"),e.length?e.html(t):n.append('                <style type="text/css" class="jgallery-thumbnails" data-jgallery-id="'+this.intJgalleryId+'">                    '+t+"                </style>            "),this.isHorizontal()?this.jGallery.zoom.$container.find(".minimalize-thumbnails").addClass("fa-ellipsis-h").removeClass("fa-ellipsis-v"):this.jGallery.zoom.$container.find(".minimalize-thumbnails").addClass("fa-ellipsis-v").removeClass("fa-ellipsis-h");if(this.isJgalleryInitialized)return;this.hide()},_showNextThumb:function(){var e=this,t=this.$a.parent(".active").children(".hidden").eq(0);setTimeout(function(){t.removeClass("hidden"),t.length&&e._showNextThumb()},70)},_horizontalCenter:function(e){var t=this;if(e.length!==1)return;this.$container.stop(!1,!0).animate({scrollLeft:e.position().left-this.$container.scrollLeft()*-1-e.outerWidth()/-2-this.$container.outerWidth()/2},function(){t.refreshNavigation()})},_verticalCenter:function(e){var t=this;if(e.length!==1)return;this.$container.stop(!1,!0).animate({scrollTop:e.position().top-this.$container.scrollTop()*-1-e.outerHeight()/-2-this.$container.outerHeight()/2},function(){t.refreshNavigation()})},_refreshHorizontalNavigation:function(){var e=this.getElement().find("div.active"),t=this.jGallery.options.thumbType==="image"?this.$a.outerWidth(!0)*e.find("img").length:this.$a.outerWidth(!0)*e.find("a").length;this.$container.scrollLeft()>0?this.$btnPrev.addClass("visible"):this.$btnPrev.removeClass("visible"),t>this.$container.width()+this.$container.scrollLeft()?this.$btnNext.addClass("visible"):this.$btnNext.removeClass("visible")},_refreshVerticalNavigation:function(){this.$container.scrollTop()>0?this.$btnPrev.addClass("visible"):this.$btnPrev.removeClass("visible"),this.$container.find(".jgallery-container-inner").height()>this.$container.height()+this.$container.scrollTop()?this.$btnNext.addClass("visible"):this.$btnNext.removeClass("visible")},_scrollToPrev:function(){var e=this;this.isVertical()||this.isFullScreen()?this.$container.stop(!1,!0).animate({scrollTop:"-="+r.height()*.7},function(){e.refreshNavigation()}):this.isHorizontal()&&this.$container.stop(!1,!0).animate({scrollLeft:"-="+r.width()*.7},function(){e.refreshNavigation()})},_scrollToNext:function(){var e=this;this.isVertical()||this.isFullScreen()?this.$container.stop(!1,!0).animate({scrollTop:"+="+r.height()*.7},function(){e.refreshNavigation()}):this.isHorizontal()&&this.$container.stop(!1,!0).animate({scrollLeft:"+="+r.width()*.7},function(){e.refreshNavigation()})}},i}),n("prototype/thumbnailsGenerator.js",["../jqueryExtensions/outerHtml.js"],function(e){var t=jQuery;t.fn.outerHtml=e;var n=function(e,n){this.options=t.extend({},{thumbsHidden:!0},n),this.jGallery=e,this.$element=e.$this,this.booIsAlbums=e.booIsAlbums,this.$tmp,this.intI=1,this.intJ=1,this.intNo,this.$thumbnailsContainerInner=this.jGallery.$jgallery.find(".jgallery-thumbnails .jgallery-container-inner"),this.start()};return n.prototype={start:function(){var e=this,n=this.jGallery.isSlider()?".album:has(img)":".album:has(a:has(img))";t("body").append('<div id="jGalleryTmp" style="position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -1; overflow: hidden;">'+this.$element.html()+"</div>"),this.$tmp=t("#jGalleryTmp"),this.$thumbnailsContainerInner.html(""),this.booIsAlbums?this.$tmp.find(n).each(function(){e.insertAlbum(t(this))}):this.insertImages(this.$tmp,this.$thumbnailsContainerInner),this.$tmp.remove(),this.refreshThumbsSize()},insertAlbum:function(e){var t=e.is("[data-jgallery-album-title]")?e.attr("data-jgallery-album-title"):"Album "+this.intJ,n=this.$thumbnailsContainerInner.append('<div class="album" data-jgallery-album-title="'+t+'"></div>').children(":last-child");this.intJ===1&&n.addClass("active"),this.insertImages(e,n),this.intJ++},insertImages:function(e,n){var r=this,i=this.jGallery.isSlider()?"img":"a:has(img)";this.intNo=1,e.find(i).each(function(){r.insertImage(t(this),n)})},insertImage:function(e,n){e.is("a")?(n.append('<a href="'+e.attr("href")+'">'+this.generateImgTag(e.find("img").eq(0)).outerHtml()+"</a>"),this.options.thumbsHidden&&n.children(":last-child").addClass("hidden")):e.is("img")&&n.append(t('<a href="'+e.attr("src")+'">'+this.generateImgTag(e).outerHtml()+"</a>")),n.children(":last-child").attr("data-jgallery-photo-id",this.intI++).attr("data-jgallery-number",this.intNo++)},generateImgTag:function(e){var n=t('<img src="'+e.attr("src")+'" />');return e.is("[alt]")&&n.attr("alt",e.attr("alt")),e.is("[data-jgallery-bg-color]")&&n.attr("data-jgallery-bg-color",e.attr("data-jgallery-bg-color")),e.is("[data-jgallery-text-color]")&&n.attr("data-jgallery-text-color",e.attr("data-jgallery-text-color")),n},refreshThumbsSize:function(){var e=this.jGallery.options;this.$thumbnailsContainerInner.find("img").each(function(){var n=t(this),r=new Image;r.src=n.attr("src"),r.width/r.height<e.thumbWidth/e.thumbHeight?n.addClass("thumb-vertical").removeClass("thumb-horizontal"):n.addClass("thumb-horizontal").removeClass("thumb-vertical"),r.width/r.height<e.thumbWidthOnFullScreen/e.thumbHeightOnFullScreen?n.addClass("thumb-on-full-screen-vertical").removeClass("thumb-on-full-screen-horizontal"):n.addClass("thumb-on-full-screen-horizontal").removeClass("thumb-on-full-screen-vertical")})}},n}),n("var/transitionsAsArray.js",["../var/transitions.js"],function(e){var t=jQuery,n=[];return t.each(e,function(e,t){n.push(t)}),n}),n("var/transitionsBackward.js",[],function(){return{moveToLeft_moveFromRight:"moveToRight_moveFromLeft",moveToRight_moveFromLeft:"moveToLeft_moveFromRight",moveToTop_moveFromBottom:"moveToBottom_moveFromTop",moveToBottom_moveFromTop:"moveToTop_moveFromBottom",fade_moveFromRight:"fade_moveFromLeft",fade_moveFromLeft:"fade_moveFromRight",fade_moveFromBottom:"fade_moveFromTop",fade_moveFromTop:"fade_moveFromBottom",moveToLeftFade_moveFromRightFade:"moveToRightFade_moveFromLeftFade",moveToRightFade_moveFromLeftFade:"moveToLeftFade_moveFromRightFade",moveToTopFade_moveFromBottomFade:"moveToBottomFade_moveFromTopFade",moveToBottomFade_moveFromTopFade:"moveToTopFade_moveFromBottomFade",moveToLeftEasing_moveFromRight:"moveToRightEasing_moveFromLeft",moveToRightEasing_moveFromLeft:"moveToLeftEasing_moveFromRight",moveToTopEasing_moveFromBottom:"moveToBottomEasing_moveFromTop",moveToBottomEasing_moveFromTop:"moveToTopEasing_moveFromBottom",scaleDown_moveFromRight:"scaleDown_moveFromLeft",scaleDown_moveFromLeft:"scaleDown_moveFromRight",scaleDown_moveFromBottom:"scaleDown_moveFromTop",scaleDown_moveFromTop:"scaleDown_moveFromBottom",scaleDown_scaleUpDown:"scaleDownUp_scaleUp",scaleDownUp_scaleUp:"scaleDown_scaleUpDown",moveToLeft_scaleUp:"moveToRight_scaleUp",moveToRight_scaleUp:"moveToLeft_scaleUp",moveToTop_scaleUp:"moveToBottom_scaleUp",moveToBottom_scaleUp:"moveToTop_scaleUp",scaleDownCenter_scaleUpCenter:"scaleDownCenter_scaleUpCenter",rotateRightSideFirst_moveFromRight:"rotateLeftSideFirst_moveFromLeft",rotateLeftSideFirst_moveFromLeft:"rotateRightSideFirst_moveFromRight",rotateTopSideFirst_moveFromTop:"rotateBottomSideFirst_moveFromBottom",rotateBottomSideFirst_moveFromBottom:"rotateTopSideFirst_moveFromTop",flipOutRight_flipInLeft:"flipOutLeft_flipInRight",flipOutLeft_flipInRight:"flipOutRight_flipInLeft",flipOutTop_flipInBottom:"flipOutBottom_flipInTop",flipOutBottom_flipInTop:"flipOutTop_flipInBottom",rotateFall_scaleUp:"rotateFall_scaleUp",rotateOutNewspaper_rotateInNewspaper:"rotateOutNewspaper_rotateInNewspaper",rotatePushLeft_moveFromRight:"rotatePushRight_moveFromLeft",rotatePushRight_moveFromLeft:"rotatePushLeft_moveFromRight",rotatePushTop_moveFromBottom:"rotatePushBottom_moveFromTop",rotatePushBottom_moveFromTop:"rotatePushTop_moveFromBottom",rotatePushLeft_rotatePullRight:"rotatePushRight_rotatePullLeft",rotatePushRight_rotatePullLeft:"rotatePushLeft_rotatePullRight",rotatePushTop_rotatePullBottom:"rotatePushTop_rotatePullBottom",rotatePushBottom_page:"rotatePushBottom_page",rotateFoldLeft_moveFromRightFade:"rotateFoldRight_moveFromLeftFade",rotateFoldRight_moveFromLeftFade:"rotateFoldLeft_moveFromRightFade",rotateFoldTop_moveFromBottomFade:"rotateFoldBottom_moveFromTopFade",rotateFoldBottom_moveFromTopFade:"rotateFoldTop_moveFromBottomFade",moveToRightFade_rotateUnfoldLeft:"moveToLeftFade_rotateUnfoldRight",moveToLeftFade_rotateUnfoldRight:"moveToRightFade_rotateUnfoldLeft",moveToBottomFade_rotateUnfoldTop:"moveToTopFade_rotateUnfoldBottom",moveToTopFade_rotateUnfoldBottom:"moveToBottomFade_rotateUnfoldTop",rotateRoomLeftOut_rotateRoomLeftIn:"rotateRoomRightOut_rotateRoomRightIn",rotateRoomRightOut_rotateRoomRightIn:"rotateRoomLeftOut_rotateRoomLeftIn",rotateRoomTopOut_rotateRoomTopIn:"rotateRoomBottomOut_rotateRoomBottomIn",rotateRoomBottomOut_rotateRoomBottomIn:"rotateRoomTopOut_rotateRoomTopIn",rotateCubeLeftOut_rotateCubeLeftIn:"rotateCubeRightOut_rotateCubeRightIn",rotateCubeRightOut_rotateCubeRightIn:"rotateCubeLeftOut_rotateCubeLeftIn",rotateCubeTopOut_rotateCubeTopIn:"rotateCubeBottomOut_rotateCubeBottomIn",rotateCubeBottomOut_rotateCubeBottomIn:"rotateCubeTopOut_rotateCubeTopIn",rotateCarouselLeftOut_rotateCarouselLeftIn:"rotateCarouselRightOut_rotateCarouselRightIn",rotateCarouselRightOut_rotateCarouselRightIn:"rotateCarouselLeftOut_rotateCarouselLeftIn",rotateCarouselTopOut_rotateCarouselTopIn:"rotateCarouselBottomOut_rotateCarouselBottomIn",rotateCarouselBottomOut_rotateCarouselBottomIn:"rotateCarouselTopOut_rotateCarouselTopIn",rotateSidesOut_rotateSidesInDelay:"rotateSidesOut_rotateSidesInDelay",rotateSlideOut_rotateSlideIn:"rotateSlideOut_rotateSlideIn"}}),n("prototype/advancedAnimation.js",["../functions/isIE8AndOlder.js"],function(e){var t=jQuery,n=t("head"),r=0,i=function(e){if(e.is("[data-advanced-animation-id]"))return;this.cols=1,this.rows=1,this.direction="forward",this.animation=!0,this.$element=e,this.$element.filter(":not( [data-advanced-animation-id] )").attr("data-advanced-animation-id",++r),this.$element.find(".pt-item").wrap('<div class="pt-page" />'),this.$element.wrapInner('<div class="pt-part" />'),this.generateHtml(),this._showParts(this.$element.find(".pt-part"),1)};return i.prototype={next:function(){var e=this.$element.find(".pt-part").eq(this.direction==="backward"?-1:0).find(".pt-page-current:not(.pt-page-prev)").next();e.length?this.show(e):this.show(this.$element.find(".pt-part").eq(this.direction==="backward"?-1:0).find(".pt-page").eq(0))},show:function(e,n){var r=e.prevAll().length+1;if(e.is(".pt-page-current:not(.pt-page-prev)"))return;n=t.extend({},{animation:!0},n),this.animation=n.animation,this._waveJumpToEnd(),this.animation?this._runWave(r):this._showParts(this.$element.find(".pt-part"),r),this.intPrevPtPageNumber=r},setQuantityParts:function(e,t){this.cols=e,this.rows=t,this.generateHtml()},setAnimationProperties:function(t){var r=this.$element.attr("data-advanced-animation-id"),i=n.find('style[data-advanced-animation-id="'+r+'"]');this.duration=t.duration;if(e())return;i.length===0&&(i=n.append('<style type="text/css" data-advanced-animation-id="'+r+'" />').children(":last-child")),i.html('                [data-advanced-animation-id="'+r+'"] .pt-page {                    -webkit-animation-duration: '+t.duration+";                    -moz-animation-duration: "+t.duration+";                    animation-duration: "+t.duration+";                    -webkit-animation-timing-function: "+t.transitionTimingFunction+";                    -moz-animation-timing-function: "+t.transitionTimingFunction+";                    animation-timing-function: "+t.transitionTimingFunction+";                }            ")},setHideEffect:function(e){this.prevHideEffect=this.hideEffect,this.hideEffect=e,/moveTo|rotateRoom|rotateCarousel|rotateSlideOut/.test(e)?this.$element.find(".pt-part").addClass("hide-overflow"):this.$element.find(".pt-part").removeClass("hide-overflow")},setShowEffect:function(e){this.prevShowEffect=this.showEffect,this.showEffect=e},setDirection:function(e){this.direction=e},_runWave:function(e){this.$element.find(".pt-part").addClass("in-queue"),this._showNextPart(e)},_waveJumpToEnd:function(){clearTimeout(this.showPartsTimeout),typeof this.intPrevPtPageNumber!="undefined"&&this._showParts(this.$element.find(".pt-part.in-queue").removeClass("in-queue"),this.intPrevPtPageNumber)},_showNextPart:function(e){var t=this,n=this.$element.find(".pt-part.in-queue").eq(this.direction==="backward"?-1:0);if(n.length===0)return;this._showParts(n.removeClass("in-queue"),e);if(n.length===0)return;clearTimeout(this.showPartsTimeout),this.showPartsTimeout=setTimeout(function(){t._showNextPart(e)},parseFloat(this.duration)*1e3*.25/Math.max(1,this.$element.find(".pt-part").length-1))},_showParts:function(e,t){e.find(".pt-page-current.pt-page-prev").removeClass("pt-page-prev").removeClass("pt-page-current"),e.find(".pt-page-current").addClass("pt-page-prev"),e.find(".pt-page:nth-child("+t+")").addClass("pt-page-current"),e.find(".pt-page").removeClass(this.hideEffect).removeClass(this.showEffect),typeof this.prevHideEffect!="undefined"&&e.find(".pt-page").removeClass(this.prevHideEffect),typeof this.prevShowEffect!="undefined"&&e.find(".pt-page").removeClass(this.prevShowEffect),this.animation&&(e.find(".pt-page-prev").addClass(this.hideEffect),e.find(".pt-page-current:not(.pt-page-prev)").addClass(this.showEffect))},hideActive:function(){this.$element.find(".pt-page-current").addClass("pt-page-prev").addClass(this.hideEffect)},generateHtml:function(){var e,t,n;this.$element.html(this.$element.find(".pt-part").eq(0).html()),n=this.$element.html(),this.$element.children(".pt-part").remove();for(t=0;t<this.rows;t++)for(e=0;e<this.cols;e++)this.$element.append('<div class="pt-part pt-perspective" data-col-no="'+e+'" data-row-no="'+t+'" style="position: absolute;"></div>').children(":last-child").html(n).find(".pt-item");this.setPositionParts(),this.$element.children(":not(.pt-part)").remove()},setPositionParts:function(){var e=this,n=this.$element.outerWidth(),r=this.$element.outerHeight(),i=n/this.cols,s=r/this.rows;this.$element.find(".pt-part").each(function(){var o=t(this),u=o.attr("data-col-no"),a=o.attr("data-row-no");o.css({left:e.$element.outerWidth()*100/e.cols*u/100+"px",top:e.$element.outerHeight()*100/e.rows*a/100+"px",width:e.$element.outerWidth()*(100/e.cols)/100+1+"px",height:e.$element.outerHeight()*(100/e.rows)/100+1+"px"}).find(".pt-item").css({width:n,height:r,left:-i*u,top:-s*a})})}},i}),n("prototype/zoom.js",["../jqueryExtensions/jLoader.js","../jqueryExtensions/overlay.js","../functions/historyPushState.js","../var/transitions.js","../var/transitionsAsArray.js","../var/transitionsBackward.js","../prototype/advancedAnimation.js","../prototype/iconChangeAlbum.js"],function(e,t,n,r,i,s,o,u){var a=jQuery,f=a("body");a.fn.jLoader=e,a.fn.overlay=t;var l=function(e){this.$container=e.$element.children(".zoom-container"),this.$element=this.$container.children(".zoom"),this.$title=this.$container.find(".nav-bottom > .title"),this.$btnPrev=this.$container.children(".prev"),this.$btnNext=this.$container.children(".next"),this.$left=this.$container.find(".left"),this.$right=this.$container.find(".right"),this.thumbnails=e.thumbnails,this.$jGallery=e.$element,this.jGallery=e,this.$resize=this.$container.find(".resize"),this.$dragNav=this.$container.find(".drag-nav"),this.$dragNavCrop=a(),this.$dragNavCropImg=a(),this.$changeMode=this.$container.find(".fa.change-mode"),this.$random=this.$container.find(".random"),this.$slideshow=this.$container.find(".slideshow"),this.intJGalleryId=this.$jGallery.attr("data-jgallery-id"),this.booSlideshowPlayed=!1,this.booLoadingInProgress=!1,this.booLoadedAll=!1,this.$title.on("click",function(){a(this).toggleClass("expanded")}),this.update()};return l.prototype={update:function(){var e=r[this.jGallery.options.transition];this.$container.attr("data-size",this.jGallery.options.zoomSize),this.$element.find(".pt-page").removeClass(this.jGallery.options.hideEffect).removeClass(this.jGallery.options.showEffect),typeof e!="undefined"&&(this.jGallery.options.hideEffect=e[0],this.jGallery.options.showEffect=e[1]),this.initAdvancedAnimation()},initAdvancedAnimation:function(){typeof this.advancedAnimation=="undefined"&&(this.advancedAnimation=new o(this.$element)),this.advancedAnimation.setAnimationProperties({duration:this.jGallery.options.transitionDuration,transitionTimingFunction:this.jGallery.options.transitionTimingFunction}),this.advancedAnimation.setDirection(this.jGallery.options.transitionWaveDirection),this.advancedAnimation.setQuantityParts(this.jGallery.options.transitionCols,this.jGallery.options.transitionRows),this.advancedAnimation.setHideEffect(this.jGallery.options.hideEffect),this.advancedAnimation.setShowEffect(this.jGallery.options.showEffect)},setThumbnails:function(e){this.thumbnails=e},enableDrag:function(){if(!this.jGallery.options.draggableZoom)return;var e=this,t,n,r=function(r){var o=r.pageX,u=r.pageY,a=e.$element.find("img.active");t=a.css("margin-left"),n=a.css("margin-top"),e.$element.on({mousemove:function(e){s(e.pageX-o,e.pageY-u)},mouseleave:function(){i()}}),e.jGallery.options.zoomSize==="fill"&&e.$dragNav.removeClass("hide").addClass("show"),s(0,0)},i=function(){e.$element.off("mousemove"),e.jGallery.options.zoomSize==="fill"&&e.$dragNav.removeClass("show").addClass("hide")},s=function(r,i){var s=parseFloat(parseFloat(t)+r),o=parseFloat(parseFloat(n)+i),u=e.$element.find("img.active"),a=u.eq(0),f=u.eq(-1),l=f.parent();a.position().left+s<0&&f.position().left+f.width()+s>l.outerWidth()&&(u.css({"margin-left":s}),e.$dragNavCrop.css({left:-(a.position().left+s)/u.width()*100+"%"})),a.position().top+o<0&&f.position().top+f.height()+o>l.outerHeight()&&(u.css({"margin-top":o}),e.$dragNavCrop.css({top:-(a.position().top+o)/u.height()*100+"%"})),e.$dragNavCropImg.css({"margin-left":-e.$dragNavCrop.position().left,"margin-top":-e.$dragNavCrop.position().top})};e.jGallery.options.zoomSize==="original"&&e.$dragNav.removeClass("hide").addClass("show"),this.refreshDragNavCropSize(),this.$element.css("cursor","move").on({mousedown:function(t){t.preventDefault(),r(t),e.slideshowPause()},mouseup:function(){i()}}),this.$left.add(this.$right).hide()},disableDrag:function(){if(!this.jGallery.options.draggableZoom)return;this.$dragNav.removeClass("show").addClass("hide"),this.$element.css("cursor","default"),this.$element.off(),this.$left.add(this.$right).show()},refreshContainerSize:function(){var e=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight(),t=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden"),n=t?this.jGallery.options.thumbnailsPosition:"";this.$container.css({width:t&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(!0):"auto",height:t&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(!0)-e:this.$jGallery.height()-e,"margin-top":n==="top"?this.thumbnails.getElement().outerHeight(!0):0,"margin-left":n==="left"?this.thumbnails.getElement().outerWidth(!0):0,"margin-right":n==="right"?this.thumbnails.getElement().outerWidth(!0):0}),this.jGallery.options.draggableZoom&&this.refreshDragNavCropSize()},refreshSize:function(){if(this.thumbnails.isFullScreen())return;this.refreshContainerSize(),this.jGallery.options.zoomSize==="original"?this.original():this.jGallery.options.zoomSize==="fill"?this.fill():this.fit(),this.$element.addClass("visible")},refreshDragNavCropSize:function(){var e=this.$element.find("img.active"),t,n;this.$dragNavCrop.css({width:this.$element.width()/e.width()*100+"%",height:this.$element.height()/e.height()*100+"%"}),e.attr("data-width")<this.$container.outerWidth()?t=0:t=(this.$dragNav.width()-this.$dragNavCrop.width())/2,e.attr("data-height")<this.$container.outerHeight()?n=0:n=(this.$dragNav.height()-this.$dragNavCrop.height())/2,this.$dragNavCrop.css({left:t,top:n}),this.$dragNavCropImg.length&&this.$dragNavCropImg.css({"margin-left":-t,"margin-top":-n})},changeSize:function(){if(this.jGallery.options.zoomSize==="fit")this.jGallery.options.zoomSize="fill",this.fill();else if(this.jGallery.options.zoomSize==="fill"){var e=this.$element.find("img.active").eq(0);this.$element.outerWidth().toString()===e.attr("data-width")?(this.jGallery.options.zoomSize="fit",this.fit()):(this.jGallery.options.zoomSize="original",this.original())}else this.jGallery.options.zoomSize==="original"&&(this.jGallery.options.zoomSize="fit",this.fit());this.$container.attr("data-size",this.jGallery.options.zoomSize)},original:function(){var e=this.$element.find("img.active");this.advancedAnimation.setPositionParts(),this.setImgSizeForOriginal(e),this.setImgSizeForOriginal(this.$element.find(".pt-page.init img")),e.attr("data-width")<=this.$element.outerWidth()&&e.attr("data-height")<=this.$element.outerHeight()?(this.$resize.addClass("fa-search-plus").removeClass("fa-search-minus"),this.disableDrag()):(this.$resize.addClass("fa-search-minus").removeClass("fa-search-plus"),this.enableDrag())},fit:function(){var e=this.$element.find("img.active").add(this.$element.find(".pt-page.init img"));this.advancedAnimation.setPositionParts(),this.setImgSizeForFit(e.filter(".active")),this.setImgSizeForFit(e.filter(":not( .active )")),this.$resize.addClass("fa-search-plus").removeClass("fa-search-minus"),this.disableDrag()},fill:function(){var e=this.$element.find("img.active");this.setImgSizeForFill(e),this.setImgSizeForFill(this.$element.find(".pt-page.init img")),this.advancedAnimation.setPositionParts(),e.attr("data-width")>e.width()&&e.attr("data-height")>e.height()?this.$resize.addClass("fa-search-plus").removeClass("fa-search-minus"):this.$resize.addClass("fa-search-minus").removeClass("fa-search-plus"),this.enableDrag()},setImgSizeForOriginal:function(e){e.css({width:e.attr("data-width"),height:e.attr("data-height"),"min-width":0,"min-height":0,"max-width":"none","max-height":"none"}),e.css({"margin-top":-e.height()/2,"margin-left":-e.width()/2})},setImgSizeForFit:function(e){var t=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight(),n=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden");e.css({width:"auto",height:"auto","min-width":0,"min-height":0,"max-width":n&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(!0):this.$jGallery.width(),"max-height":n&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(!0)-t:this.$jGallery.height()-t}),e.width()/e.height()/this.jGallery.getCanvasRatioWidthToHeight()<1?e.css({width:"auto",height:n&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(!0)-t:this.$jGallery.height()-t}):e.css({width:n&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(!0):this.$jGallery.width(),height:"auto"}),e.css({"margin-top":-e.height()/2,"margin-left":-e.width()/2})},setImgSizeForFill:function(e){var t=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight(),n=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden");e.css({width:"auto",height:"auto","max-width":"none","max-height":"none","min-width":0,"min-height":0}),e.width()/e.height()/this.jGallery.getCanvasRatioWidthToHeight()>1?e.css({width:"auto",height:n&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(!0)-t:this.$jGallery.height()-t}):e.css({width:n&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(!0):this.$jGallery.width(),height:"auto"}),e.css({"min-width":n&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(!0):this.$jGallery.width(),"min-height":n&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(!0)-t:this.$jGallery.height()-t}),e.css({"margin-top":-e.height()/2,"margin-left":-e.width()/2})},isLoaded:function(e){return this.$element.find("img").filter('[src="'+e.attr("href")+'"]').length>0},refreshNav:function(){var e=this.thumbnails.getElement().find("div.active a.active");e.prev("a").length===1?this.$btnPrev.add(this.$container.children(".left")).removeClass("hidden"):this.$btnPrev.add(this.$container.children(".left")).addClass("hidden"),e.next("a").length===1?this.$btnNext.add(this.$container.children(".right")).removeClass("hidden"):this.$btnNext.add(this.$container.children(".right")).addClass("hidden")},slideshowStop:function(){this.slideshowPause(),this.jGallery.progress.clear()},slideshowPause:function(){this.jGallery.progress.pause(),this.$slideshow.removeClass("fa-pause").addClass("fa-play"),this.booSlideshowPlayed=!1,this.jGallery.options.slideshowCanRandom&&this.$random.hide()},slideshowPlay:function(){if(this.booLoadingInProgress||this.booSlideshowPlayed)return;this.booSlideshowPlayed=!0,this.$slideshow.removeClass("fa-play").addClass("fa-pause"),this.slideshowSetTimeout(),this.jGallery.options.slideshowCanRandom&&this.$random.show()},slideshowPlayPause:function(){this.$slideshow.is(".fa-play")?this.slideshowPlay():this.slideshowPause()},slideshowSetTimeout:function(){var e=this;this.jGallery.progress.start(this.$container.width(),function(){e.jGallery.progress.clear(),e.jGallery.options.slideshowRandom?e.showRandomPhoto():e.showNextPhotoLoop()})},slideshowRandomToggle:function(){this.jGallery.options.slideshowRandom?(this.$random.removeClass("active"),this.jGallery.options.slideshowRandom=!1):(this.$random.addClass("active"),this.jGallery.options.slideshowRandom=!0)},showNextPhotoLoop:function(){var e=this.thumbnails.$a.filter(".active").next("a");e.length===0&&(e=this.thumbnails.$albums.filter(".active").find("a").eq(0)),this.showPhoto(e)},showRandomPhoto:function(){var e=this.thumbnails.$albums.filter(".active").find("a:not(.active)");this.showPhoto(e.eq(Math.floor(Math.random()*e.length)))},showPrevPhoto:function(){var e=this.thumbnails.$a.filter(".active").prev("a");e.length===1&&this.showPhoto(e)},showNextPhoto:function(){var e=this.thumbnails.$a.filter(".active").next("a");e.length===1&&this.showPhoto(e)},showPhotoInit:function(){this.jGallery.init()},showPhoto:function(e,t){var n=this,i=e.children("img"),o,u,a,f;this.jGallery.initialized()||this.showPhotoInit();if(this.booLoadingInProgress)return;this.booLoadingInProgress=!0,f=this.jGallery.options[e.nextAll(".active").length>0?"transitionBackward":"transition"],f==="random"?this.setRandomTransition():f==="auto"?(a=r[s[this.jGallery.options.transition]],this.advancedAnimation.setHideEffect(a[0]),this.advancedAnimation.setShowEffect(a[1])):(a=r[f],this.advancedAnimation.setHideEffect(a[0]),this.advancedAnimation.setShowEffect(a[1])),this.$element.find(".pt-page.init").remove(),this.jGallery.options.showPhoto(),this.jGallery.$element.is(":not(:visible)")&&this.jGallery.show(),this.thumbnails.changeViewToBar(),this.jGallery.booIsAlbums&&this.jGallery.iconChangeAlbum.getTitle()===""&&(u=e.parents(".album").eq(0).attr("data-jgallery-album-title"),this.jGallery.iconChangeAlbum.setTitle(u),this.jGallery.iconChangeAlbum.$element.find('[data-jgallery-album-title="'+u+'"]').addClass("active"),e.parents(".album").addClass("active").siblings(".album").removeClass("active")),this.thumbnails.setActiveAlbum(this.thumbnails.$albums.filter('[data-jgallery-album-title="'+e.parents("[data-jgallery-album-title]").attr("data-jgallery-album-title")+'"]')),this.thumbnails.setActiveThumb(e);if(this.$element.find("img.active").attr("src")===e.attr("href")){this.booLoadingInProgress=!1,this.setJGalleryColoursForActiveThumb();return}this.refreshNav(),this.jGallery.options.title&&this.$title.addClass("after fade"),o=n.isLoaded(e),o||(n.jGallery.options.preloadAll&&!n.booLoadedAll?this.appendAllPhotos():this.appendPhoto(e)),this.$element.find("img.active").addClass("prev-img"),n.$container.find("img.active").removeClass("active"),n.$container.find('[src="'+e.attr("href")+'"]').addClass("active"),n.jGallery.options.title&&i.is("[alt]")&&n.$title.removeClass("after").addClass("before"),!o||n.jGallery.options.preloadAll&&!n.booLoadedAll?(n.booLoadedAll=!0,n.$container.overlay({show:!0,showLoader:!0}),n.jGallery.options.beforeLoadPhoto(),n.loadPhoto(n.$element,e,t)):n.showPhotoSuccess(i,t)},appendPhoto:function(e){this.$element.find(".pt-part").append('                <div class="jgallery-container pt-page">                    <div class="pt-item"><img src="'+e.attr("href")+'" /></div>                </div>')},appendAllPhotos:function(){var e=this;if(!this.jGallery.options.preloadAll)return;this.thumbnails.$a.each(function(){var t=a(this);e.isLoaded(t)||e.$element.find(".pt-part").append('<div class="jgallery-container pt-page"><div class="pt-item"><img src="'+t.attr("href")+'" /></div></div>')}),this.appendInitPhoto(this.thumbnails.$a.eq(-1))},appendInitPhoto:function(e){if(e.length!==1)return;this.$element.find(".pt-part").append('                <div class="jgallery-container pt-page pt-page-current pt-page-ontop init" style="visibility: hidden;">                    <div class="pt-item"><img src="'+e.attr("href")+'" class="active loaded" /></div>                </div>')},loadPhoto:function(e,t,n){var r=this,i=t.children("img"),s=0,o=e.find(".pt-part").eq(0),u=this.jGallery.options.preloadAll?o:o.find("img.active");u.jLoader({interval:500,skip:".loaded",start:function(){r.jGallery.options.preloadAll?(r.$container.find(".overlay .imageLoaderPositionAbsolute:not(:has(.progress-value))").addClass("preloadAll").append('<span class="progress-value"></span>'),r.$container.find(".progress-value").html("0")):r.$container.find(".overlay .imageLoaderPositionAbsolute:not(:has(.fa-spin))").append('<span class="fa fa-spin fa-spinner"></span>')},success:function(){e.find("img").addClass("loaded"),r.$container.overlay({hide:!0,hideLoader:!0}),r.showPhotoSuccess(i,n)},progress:function(e){if(!r.jGallery.options.preloadAll)return;s=e.percent,r.$container.find(".overlay .imageLoaderPositionAbsolute").find(".progress-value").html(s)}})},showPhotoSuccess:function(e,t){var r,i=this.$element.find("img.active");t=a.extend({},{historyPushState:!0},t),i.is(":not([data-width])")&&(r=new Image,r.src=i.attr("src"),i.attr("data-width",r.width),i.attr("data-height",r.height)),this.jGallery.options.title&&e.attr("alt")?(this.$title.html(e.attr("alt")).removeClass("before").removeClass("after"),this.jGallery.$element.addClass("has-title")):this.jGallery.$element.removeClass("has-title"),this.setJGalleryColoursForActiveThumb(),this.$element.find(".pt-page.init").css({visibility:"visible"}),this.$element.find("img.prev-img").removeClass("prev-img"),this.advancedAnimation.show(i.eq(0).parent().parent(),{animation:this.$element.find(".pt-part").eq(0).find(".pt-page-current:not(.pt-page-prev)").length===1}),this.refreshSize(),this.thumbnails.refreshNavigation(),this.booSlideshowPlayed&&this.slideshowSetTimeout(),this.jGallery.options.afterLoadPhoto(),this.booLoadingInProgress=!1,this.jGallery.options.autostart&&this.jGallery.options.slideshowAutostart&&this.jGallery.options.slideshow&&(this.jGallery.options.slideshowAutostart=!1,this.slideshowPlay()),this.jGallery.options.draggableZoom&&(this.$dragNav.html('<img src="'+i.attr("src")+'" class="bg">                    <div class="crop"><img src="'+i.attr("src")+'"></div>'),this.$dragNavCrop=this.$dragNav.find(".crop"),this.$dragNavCropImg=this.$dragNavCrop.find("img"),this.refreshDragNavCropSize()),t.historyPushState&&this.jGallery.options.browserHistory&&n({path:i.attr("src")})},showPhotoByPath:function(e){var t=this.thumbnails.$albums.filter(".active").find('a[href="'+e+'"]');t.length===0&&(t=this.thumbnails.$a.filter('a[href="'+e+'"]').eq(0));if(t.length===0)return;this.showPhoto(t,{historyPushState:!1})},setJGalleryColoursForActiveThumb:function(){var e=this.thumbnails.$a.filter(".active").find("img");this.jGallery.setColours({strBg:e.is("[data-jgallery-bg-color]")?e.attr("data-jgallery-bg-color"):this.jGallery.options.backgroundColor,strText:e.is("[data-jgallery-bg-color]")?e.attr("data-jgallery-text-color"):this.jGallery.options.textColor})},setTransition:function(e){this.jGallery.options.hideEffect=r[e][0],this.jGallery.options.showEffect=r[e][1],this.advancedAnimation.setHideEffect(this.jGallery.options.hideEffect),this.advancedAnimation.setShowEffect(this.jGallery.options.showEffect)},setRandomTransition:function(){var e;this.$element.find(".pt-page").removeClass(this.jGallery.options.hideEffect).removeClass(this.jGallery.options.showEffect),e=Math.floor(Math.random()*i.length),this.jGallery.options.hideEffect=i[e][0],this.jGallery.options.showEffect=i[e][1],this.advancedAnimation.setHideEffect(this.jGallery.options.hideEffect),this.advancedAnimation.setShowEffect(this.jGallery.options.showEffect)},unmarkActive:function(){this.$element.find("img.active").removeClass("active")},changeMode:function(){var e=this.jGallery.options.mode;if(e==="slider")return;e==="standard"?this.goToFullScreenMode():e==="full-screen"&&this.goToStandardMode(),this.jGallery.iconChangeAlbum instanceof u&&this.jGallery.iconChangeAlbum.refreshMenuHeight()},goToFullScreenMode:function(){f.css({overflow:"hidden"}),this.jGallery.$this.show(),this.jGallery.$element.removeClass("jgallery-standard").addClass("jgallery-full-screen").css({width:"auto",height:"auto"}),this.$changeMode.removeClass("fa-expand").addClass("fa-compress"),this.jGallery.options.mode="full-screen",this.jGallery.refreshDimensions()},goToStandardMode:function(){f.css({overflow:"visible"}),this.jGallery.$this.hide(),this.jGallery.$element.removeClass("jgallery-full-screen").addClass("jgallery-standard").css({width:this.jGallery.options.width,height:this.jGallery.options.height}),this.$changeMode.removeClass("fa-compress").addClass("fa-expand"),this.jGallery.options.mode="standard",this.jGallery.refreshDimensions()}},l}),n("prototype/jgallery.js",["../jqueryExtensions/outerHtml.js","../functions/historyPushState.js","../functions/isIE.js","../functions/isIE8AndOlder.js","../functions/refreshHTMLClasses.js","../var/defaults.js","../var/defaultsFullScreenMode.js","../var/defaultsSliderMode.js","../var/requiredFullScreenMode.js","../var/requiredSliderMode.js","../prototype/iconChangeAlbum.js","../prototype/progress.js","../prototype/thumbnails.js","../prototype/thumbnailsGenerator.js","../prototype/zoom.js"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){var v=jQuery,m=v("html"),g=v("head"),y=v("body"),b=v(window);v.fn.outerHtml=e;var w=function(e,t,n){var s=this;if(!t)return;this.overrideOptions(n),this.booIsAlbums=e.find(".album:has(a:has(img))").length>1,this.intId=t,this.$this=e;if(this.options.disabledOnIE8AndOlder&&r())return;this.init(),this.options.browserHistory&&this.browserHistory(),this.options.autostart&&this.autostart(),i(),m.on({keydown:function(e){if(s.$element.is(":visible")){if(e.which===27){e.preventDefault();if(s.thumbnails.getElement().is(".full-screen")){s.thumbnails.changeViewToBar(),s.zoom.refreshSize();return}s.hide()}e.which===37&&(e.preventDefault(),s.zoom.showPrevPhoto()),e.which===39&&(e.preventDefault(),s.zoom.showNextPhoto())}}})};return w.prototype={initialized:function(){return this.$this.is("[data-jgallery-id]")},update:function(e){this.overrideOptions(e);if(this.options.disabledOnIE8AndOlder&&r())return;this.booIsAlbums=this.$this.find(".album:has(a:has(img))").length>1,this.zoom.update(),this.thumbnails.init(),this.setUserOptions(),this.reloadThumbnails(),this.refreshDimensions()},overrideOptions:function(e){var t=typeof e!="undefined"&&typeof e.mode!="undefined";this.options=v.extend({},s,this.options),t&&e.mode==="full-screen"?this.options=v.extend({},this.options,o,e,a):t&&e.mode==="slider"?this.options=v.extend({},this.options,u,e,f):this.options=v.extend({},this.options,e)},reloadThumbnails:function(){new p(this,{thumbsHidden:!1}),this.generateAlbumsDropdown(),this.thumbnails.reload()},setVariables:function(){this.$element=v(".jgallery").filter('[data-jgallery-id="'+this.intId+'"]'),this.progress=new c(this.$element.find(".zoom-container").children(".progress"),this),this.zoom=new d(this),this.thumbnails=new h(this),this.zoom.setThumbnails(this.thumbnails)},show:function(){this.$this.hide(),b.on("resize",{jGallery:this},this.windowOnResize),this.options.mode==="full-screen"&&(this.bodyOverflowBeforeShow=y.css("overflow"),y.css({overflow:"hidden"})),this.$element.not(":visible").removeClass("hidden").stop(!1,!0).fadeIn(500),this.zoom.refreshContainerSize(),this.zoom.$title.removeClass("hidden"),this.options.showGallery(),this.iconChangeAlbum instanceof l&&this.iconChangeAlbum.refreshMenuHeight(),i()},hide:function(e){var n=this;if(!this.options.canClose)return;e=v.extend({},{historyPushState:!0},e),this.$element.filter(":visible").stop(!1,!0).addClass("hidden").fadeOut(500,function(){n.options.mode==="full-screen"&&y.css({overflow:n.bodyOverflowBeforeShow}),i()}),this.zoom.booLoadingInProgress=!1,clearTimeout(this.zoom.showPhotoTimeout),this.zoom.$title.addClass("hidden"),this.zoom.$btnPrev.addClass("hidden"),this.zoom.$btnNext.addClass("hidden"),this.zoom.slideshowPause(),this.zoom.advancedAnimation.hideActive(),this.zoom.unmarkActive(),b.off("resize",this.windowOnResize),this.$this.show(),e.historyPushState&&this.options.browserHistory&&t(),this.options.closeGallery()},autostart:function(){var e,t;if(this.$element.is(":visible"))return;this.booIsAlbums?(e=this.thumbnails.getElement().find(".album").eq(this.options.autostartAtAlbum-1),e.length===0&&(e=this.thumbnails.getElement().find(".album").eq(0))):e=this.thumbnails.getElement(),t=e.find("a").eq(this.options.autostartAtImage-1),t.length===0&&(t=e.find("a").eq(0)),t.trigger("click")},browserHistory:function(){function n(){var t;if(!document.location.hash)return;t=document.location.hash.replace("#","");switch(t){case"":e.hide({historyPushState:!1});break;default:e.zoom.showPhotoByPath(t)}}var e=this,t=window.onpopstate;window.onpopstate=function(){typeof t=="function"&&t(),n()},this.options.autostart&&n()},generateAlbumsDropdown:function(){var e=this;this.$element.find(".change-album").remove();if(!this.booIsAlbums)return;this.zoom.$container.find(".nav-bottom > .icons").append('                <span class="fa fa-list-ul change-album jgallery-btn jgallery-btn-small" tooltip="'+e.options.tooltipSeeOtherAlbums+'">                    <span class="menu jgallery-btn"></span>                    <span class="title"></span>                </span>            '),this.iconChangeAlbum=new l(e.zoom.$container.find(".change-album"),this),this.iconChangeAlbum.clearMenu(),this.thumbnails.$albums.each(function(){var t=v(this).attr("data-jgallery-album-title");e.iconChangeAlbum.appendToMenu('<span class="item" data-jgallery-album-title="'+t+'">'+t+"</span>")}),this.thumbnails.getElement().append(this.iconChangeAlbum.getElement().outerHtml()),this.iconChangeAlbum=new l(this.iconChangeAlbum.getElement().add(this.thumbnails.getElement().children(":last-child")),this),this.iconChangeAlbum.bindEvents(this)},init:function(){var e=this;g.append('<style type="text/css" class="colours" data-jgallery-id="'+this.intId+'"></style>'),this.options.initGallery(),this.$this.attr("data-jgallery-id",this.intId),this.generateHtml(),new p(this),this.setVariables(),this.thumbnails.init(),this.thumbnails.getElement().append('<span class="fa fa-times jgallery-btn jgallery-close jgallery-btn-small"></span>'),this.generateAlbumsDropdown(),e.setUserOptions(),(e.options.zoomSize==="fit"||e.options.zoomSize==="original")&&e.zoom.$resize.addClass("fa-search-plus"),e.options.zoomSize==="fill"&&e.zoom.$resize.addClass("fa-search-minus"),n()||e.$element.addClass("text-shadow"),e.thumbnails.refreshNavigation(),e.zoom.refreshNav(),e.zoom.refreshSize(),this.$this.on("click","a:has(img)",function(t){var n=v(this);t.preventDefault(),e.zoom.showPhoto(n)}),e.thumbnails.$element.on("click","a",function(t){var n=v(this);t.preventDefault(),n.is(":not(.active)")?(e.zoom.slideshowStop(),e.zoom.showPhoto(n)):e.thumbnails.isFullScreen()&&(e.thumbnails.changeViewToBar(),e.zoom.refreshSize())}),e.zoom.$btnPrev.add(e.zoom.$container.find(".left")).on({click:function(){e.zoom.slideshowStop(),e.zoom.showPrevPhoto()}}),e.zoom.$btnNext.add(e.zoom.$container.find(".right")).on({click:function(){e.zoom.slideshowStop(),e.zoom.showNextPhoto()}}),e.zoom.$container.find(".jgallery-close").on({click:function(){e.hide()}}),e.zoom.$random.on({click:function(){e.zoom.slideshowRandomToggle()}}),e.zoom.$resize.on({click:function(){e.zoom.changeSize(),e.zoom.slideshowPause()}}),e.zoom.$changeMode.on({click:function(){e.zoom.changeMode()}}),e.zoom.$slideshow.on({click:function(){e.zoom.slideshowPlayPause()}}),e.zoom.$container.find(".minimalize-thumbnails").on({click:function(){e.thumbnails.toggle(),e.zoom.refreshSize()}}),e.thumbnails.bindEvents()},isSlider:function(){return this.options.mode==="slider"},windowOnResize:function(e){e.data.jGallery.refreshDimensions()},refreshDimensions:function(){this.zoom.refreshSize(),this.iconChangeAlbum instanceof l&&this.iconChangeAlbum.refreshMenuHeight(),this.thumbnails.refreshNavigation()},getCanvasRatioWidthToHeight:function(){var e,t;return this.thumbnails.isHorizontal()?(e=this.$element.width(),t=this.$element.height()-this.thumbnails.getElement().outerHeight(!0)):this.thumbnails.isVertical()?(e=this.$element.width()-this.thumbnails.getElement().outerWidth(!0),t=this.$element.height()):(e=this.$element.width(),t=this.$element.height()),e/t},setUserOptions:function(){var e=this.options,t=e.mode,n=t==="full-screen"?"auto":e.width,r=t==="full-screen"?"auto":e.height;this.refreshAttrClasses(),this.options.canZoom?this.zoom.$resize.show():this.zoom.$resize.hide(),this.options.canChangeMode?this.zoom.$changeMode.show():this.zoom.$changeMode.hide(),this.options.mode==="standard"?this.zoom.$changeMode.removeClass("fa-compress").addClass("fa-expand"):this.zoom.$changeMode.removeClass("fa-expand").addClass("fa-compress"),this.options.canClose?this.zoom.$container.find(".jgallery-close").show():this.zoom.$container.find(".jgallery-close").hide(),this.options.thumbnails?(this.thumbnails.getElement().removeClass("inactive"),this.options.thumbnailsPosition===""&&(this.options.thumbnailsPosition=s.thumbnailsPosition)):(this.thumbnails.getElement().addClass("inactive"),this.options.thumbnailsPosition=""),this.options.slideshow?this.zoom.$slideshow.show():this.zoom.$slideshow.hide(),this.options.slideshow&&this.options.slideshowCanRandom&&this.options.slideshowAutostart?this.zoom.$random.show():this.zoom.$random.hide(),this.options.slideshow&&this.options.slideshowCanRandom&&this.options.slideshowRandom?this.zoom.$random.addClass("active"):this.zoom.$random.removeClass("active"),this.options.thumbnailsFullScreen&&this.options.thumbnails?this.zoom.$container.find(".full-screen").show():this.zoom.$container.find(".full-screen").hide(),this.options.canMinimalizeThumbnails&&this.options.thumbnails?this.zoom.$container.find(".minimalize-thumbnails").show():this.zoom.$container.find(".minimalize-thumbnails").hide(),this.options.hideThumbnailsOnInit&&this.options.thumbnails?this.thumbnails.hide():this.thumbnails.show(),this.options.titleExpanded?this.zoom.$title.addClass("expanded"):this.zoom.$title.removeClass("expanded"),this.setColours({strBg:this.options.backgroundColor,strText:this.options.textColor}),this.options.tooltips?this.$jgallery.addClass("jgallery-tooltips"):this.$jgallery.removeClass("jgallery-tooltips"),this.$jgallery.css({width:n,height:r})},refreshAttrClasses:function(){var e=this,t=["standard","full-screen","slider"];v.each(t,function(t,n){e.$jgallery.removeClass("jgallery-"+n)}),this.$jgallery.addClass("jgallery-"+this.options.mode)},setColours:function(e){g.find('style[data-jgallery-id="'+this.intId+'"].colours').html(this.getCssForColours(e))},generateHtml:function(){var e=this.options,t=e.mode,n='                <div class="jgallery jgallery-'+t+'" style="display: none;" data-jgallery-id="'+this.intId+'">                    <div class="jgallery-thumbnails hidden">                        <div class="jgallery-container"><div class="jgallery-container-inner"></div></div>                        <span class="prev jgallery-btn hidden"><span class="fa fa-chevron-left ico"></span></span>                        <span class="next jgallery-btn hidden"><span class="fa fa-chevron-right ico"></span></span>                    </div>                    <div class="zoom-container">                        <div class="zoom before pt-perspective"></div>                        <div class="drag-nav hide"></div>                        <div class="left"></div>                        <div class="right"></div>                        <span class="fa fa-chevron-left prev jgallery-btn jgallery-btn-large"></span>                        <span class="fa fa-chevron-right next jgallery-btn jgallery-btn-large"></span>                        <span class="progress"></span>                        <div class="nav">                            <span class="fa resize jgallery-btn jgallery-btn-small" tooltip="'+e.tooltipZoom+'" tooltip-position="bottom right"></span>                            <span class="fa change-mode jgallery-btn jgallery-btn-small" tooltip="'+e.tooltipFullScreen+'" tooltip-position="bottom right"></span>                            <span class="fa fa-times jgallery-close jgallery-btn jgallery-btn-small" tooltip="'+e.tooltipClose+'" tooltip-position="bottom right"></span>                        </div>                        <div class="nav-bottom">                            <div class="icons">                                <span class="fa fa-play slideshow jgallery-btn jgallery-btn-small" tooltip="'+e.tooltipSlideshow+'"></span>                                <span class="fa fa-random random jgallery-btn jgallery-btn-small inactive" tooltip="'+e.tooltipRandom+'"></span>                                <span class="fa fa-th full-screen jgallery-btn jgallery-btn-small" tooltip="'+e.tooltipSeeAllPhotos+'"></span>                                <span class="fa fa-ellipsis-h minimalize-thumbnails jgallery-btn jgallery-btn-small inactive" tooltip="'+e.tooltipToggleThumbnails+'"></span>                            </div>                            <div class="title before"></div>                        </div>                    </div>                </div>';t==="full-screen"?this.$jgallery=this.$this.after(n).next():(e.autostart&&this.$this.hide(),this.$jgallery=this.$this.after(n).next())},getCssForColours:function(e){e=v.extend({strBg:"rgb( 0, 0, 0 )",strText:"rgb( 255, 255, 255 )"},e);var t,n,r;return typeof tinycolor=="function"?(t=tinycolor(e.strText).toRgb(),n=tinycolor(e.strBg).toRgb(),n.r+n.g+n.b>375?(n=tinycolor.darken(e.strBg).toRgb(),r=tinycolor(e.strBg).toRgb()):(n=tinycolor(e.strBg).toRgb(),r=tinycolor.lighten(e.strBg).toRgb())):(n={r:230,g:230,b:230},r={r:255,g:255,b:255},t={r:0,g:0,b:0}),'                .jgallery[data-jgallery-id="'+this.intId+'"] {                  background: rgb('+n.r+","+n.g+", "+n.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] [tooltip]:after {                  background: rgba('+t.r+","+t.g+", "+t.b+", .9);                  color: rgb("+n.r+","+n.g+", "+n.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn {                  color: rgb('+t.r+","+t.g+", "+t.b+");                  text-shadow: 0 0 1px rgb("+n.r+","+n.g+", "+n.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn.active {                  color: rgb('+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn:hover {                  text-shadow: none;                  text-shadow: 0 0 .15em rgba('+t.r+","+t.g+", "+t.b+",.75), 0 0 .45em rgba("+t.r+","+t.g+", "+t.b+',.5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .change-album > .title {                  background: rgb('+r.r+","+r.g+", "+r.b+");                  box-shadow: 4px 0 4px rgb("+r.r+","+r.g+", "+r.b+')                }                .jgallery[data-jgallery-id="'+this.intId+'"] .full-screen .change-album .menu {                  background: rgb('+n.r+","+n.g+", "+n.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item {                  border-color: rgb('+n.r+","+n.g+", "+n.b+");                  color: rgb("+t.r+","+t.g+", "+t.b+");                  background: rgb("+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .full-screen .change-album .menu .item {                  border-color: rgb('+r.r+","+r.g+", "+r.b+");                  background: rgb("+n.r+","+n.g+", "+n.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item.active,                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item:hover {                  background: rgb('+t.r+","+t.g+", "+t.b+");                  color: rgb("+n.r+","+n.g+", "+n.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container:not([data-size="fill"]) .jgallery-container {                  background: rgb('+n.r+","+n.g+", "+n.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom {                  background: rgb('+r.r+","+r.g+", "+r.b+");                  -webkit-box-shadow: 0 -3px rgba("+r.r+","+r.g+", "+r.b+", .5);                  box-shadow: 0 -3px rgba("+r.r+","+r.g+", "+r.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .icons,                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .icons .fa {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom > .title {                  color: rgb('+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom > .title.expanded {                  background: rgba('+n.r+","+n.g+", "+n.b+',.7);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .drag-nav {                  background: rgb('+r.r+","+r.g+", "+r.b+");                  -webkit-box-shadow: 0 0 0 3px rgba("+r.r+","+r.g+", "+r.b+", .5);                  box-shadow: 0 0 0 3px rgba("+r.r+","+r.g+", "+r.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .drag-nav .crop {                  -webkit-box-shadow: 0 0 0 3px rgba('+t.r+","+t.g+", "+t.b+", .5);                  box-shadow: 0 0 0 3px rgba("+t.r+","+t.g+", "+t.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails .ico {                  color: rgb('+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails .jgallery-container {                  -webkit-box-shadow: 0 0 0 3px rgba('+r.r+","+r.g+", "+r.b+", .5);                  box-shadow: 0 0 0 3px rgba("+r.r+","+r.g+", "+r.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .prev:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+r.r+","+r.g+", "+r.b+", 1 )),to(rgba( "+r.r+","+r.g+", "+r.b+", 0)));                  background-image: -webkit-linear-gradient(top,rgba( "+r.r+","+r.g+", "+r.b+", 1 ),0%,rgba( "+r.r+","+r.g+", "+r.b+", 0),100%);                  background-image: -moz-linear-gradient(top,rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+", 0) 100%);                  background-image: linear-gradient(to bottom,rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+', 0) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .next:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+r.r+","+r.g+", "+r.b+", 0)),to(rgba( "+r.r+","+r.g+", "+r.b+", 1)));                  background-image: -webkit-linear-gradient(top,rgba( "+r.r+","+r.g+", "+r.b+", 0),0%,rgba( "+r.r+","+r.g+", "+r.b+", 1),100%);                  background-image: -moz-linear-gradient(top,rgba( "+r.r+","+r.g+", "+r.b+", 0) 0%,rgba( "+r.r+","+r.g+", "+r.b+", 1) 100%);                  background-image: linear-gradient(to bottom,rgba( "+r.r+","+r.g+", "+r.b+", 0) 0%,rgba( "+r.r+","+r.g+", "+r.b+', 1) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.images a:after {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .prev,                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .next {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.square:not(.full-screen) a {                  background: rgb('+t.r+","+t.g+", "+t.b+");                  color: rgb("+n.r+","+n.g+", "+n.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .overlayContainer .overlay {                  background: rgba('+n.r+","+n.g+", "+n.b+",.8);                  color: rgb("+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .overlayContainer .imageLoaderPositionAbsolute:after {                  border-color: rgba('+t.r+","+t.g+", "+t.b+', .5 );                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .prev {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .prev:before {                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( '+r.r+","+r.g+", "+r.b+", 1 )),to(rgba( "+r.r+","+r.g+", "+r.b+", 0 )));                  background-image: -webkit-linear-gradient(left,color-stop(rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 0%),color-stop(rgba( "+r.r+","+r.g+", "+r.b+", 0 ) 100%));                  background-image: -moz-linear-gradient(left,rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+", 0 ) 100%);                  background-image: linear-gradient(to right,rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+', 0 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .next {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .next:before {                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( '+r.r+","+r.g+", "+r.b+", 0 )),to(rgba( "+r.r+","+r.g+", "+r.b+", 1 )));                  background-image: -webkit-linear-gradient(left,color-stop(rgba( "+r.r+","+r.g+", "+r.b+", 0 ) 0%),color-stop(rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 100%));                  background-image: -moz-linear-gradient(left,rgba( "+r.r+","+r.g+", "+r.b+", 0 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 100%);                  background-image: linear-gradient(to right,rgba( "+r.r+","+r.g+", "+r.b+", 0 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+', 1 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .prev {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .prev:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+r.r+","+r.g+", "+r.b+", 1 )),to(rgba( "+r.r+","+r.g+", "+r.b+", 0 )));                  background-image: -webkit-linear-gradient(top,rgba( "+r.r+","+r.g+", "+r.b+", 1 ),0%,rgba( "+r.r+","+r.g+", "+r.b+", 0 ),100%);                  background-image: -moz-linear-gradient(top,rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+", 0 ) 100%);                  background-image: linear-gradient(to bottom,rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+', 0 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .next {                  background: rgb('+r.r+","+r.g+", "+r.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .next:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+r.r+","+r.g+", "+r.b+", 0 )),to(rgba( "+r.r+","+r.g+", "+r.b+", 1 )));                  background-image: -webkit-linear-gradient(top,rgba( "+r.r+","+r.g+", "+r.b+", 0 ),0%,rgba( "+r.r+","+r.g+", "+r.b+", 1 ),100%);                  background-image: -moz-linear-gradient(top,rgba( "+r.r+","+r.g+", "+r.b+", 0 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+", 1 ) 100%);                  background-image: linear-gradient(to bottom,rgba( "+r.r+","+r.g+", "+r.b+", 0 ) 0%,rgba( "+r.r+","+r.g+", "+r.b+', 1 ) 100%);                  background-repeat: repeat-x;                }                .jgallery.has-title.jgallery-slider[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom,                .jgallery.has-title.jgallery-slider[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom > .title.expanded {                  background: rgba('+n.r+","+n.g+", "+n.b+",.7);                  color: rgb("+t.r+","+t.g+", "+t.b+');                }                .jgallery.jgallery-slider[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .jgallery-btn {                  background: rgba('+n.r+","+n.g+", "+n.b+",.8);                  color: rgb("+t.r+","+t.g+", "+t.b+");                }            "}},w}),t(["./functions/refreshHTMLClasses.js","./var/defaults.js","./var/transitions.js","./prototype/jgallery.js"],function(e,t,n,r){var i=[""],s=jQuery,o=s("html"),u=0;s.fn.jGallery=function(n){var a=this;return this.each(function(){var e=s(this);e.is("[data-jgallery-id]")?s.isPlainObject(n)&&i[e.attr("data-jgallery-id")].update(n):i[++u]=new r(e,u,n)}),s.extend(a,{getDefaults:function(){return t},restoreDefaults:function(){return a.each(function(){s(this).jGallery(t)})},getOptions:function(){return s(a).eq(0).getOptions},destroy:function(){return a.each(function(){var t=s(this),n=t.attr("data-jgallery-id");i[n]="",t.removeAttr("data-jgallery-id").show(),o.find('.jgallery[data-jgallery-id="'+n+'"]').remove(),e()})}}),this},s.jGalleryTransitions=function(){return n}}),n("jgallery",function(){})})();